<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Play7 Oficial - Ganhos Reais</title>
    <style>
        :root { --primary: #6c48ff; --bg: #05070a; --card: #111827; --text: #ffffff; --success: #00ffa3; --danger: #ff4d4d; }
        body { font-family: 'Inter', sans-serif; background-color: var(--bg); color: var(--text); margin: 0; padding-bottom: 80px; }
        
        /* Borda Lateral no T√≠tulo */
        .header-main { border-left: 6px solid var(--primary); padding: 15px 20px; background: var(--card); display: flex; justify-content: space-between; align-items: center; }
        .container { padding: 20px; }

        .balance-card { background: linear-gradient(145deg, #111827, #1f2937); padding: 30px; border-radius: 24px; text-align: center; border: 1px solid rgba(108, 72, 255, 0.3); }
        .balance-card h2 { font-size: 3rem; margin: 10px 0; }
        
        .progress-container { background: #374151; height: 12px; border-radius: 10px; margin: 20px 0 10px; overflow: hidden; }
        .progress-bar { background: var(--primary); height: 100%; width: 0%; transition: 0.5s; box-shadow: 0 0 15px var(--primary); }

        .mission-card { background: var(--card); padding: 20px; border-radius: 18px; margin-bottom: 15px; border: 1px solid #1f2937; }
        .mission-info { display: flex; justify-content: space-between; align-items: center; }
        
        .btn-action { background: var(--primary); color: white; border: none; padding: 12px 24px; border-radius: 12px; font-weight: bold; cursor: pointer; width: 100%; margin-top: 15px; }
        .btn-action:disabled { background: #374151; cursor: not-allowed; }

        .alert-withdraw { background: rgba(255, 77, 77, 0.1); border: 1px solid var(--danger); color: var(--danger); padding: 15px; border-radius: 12px; margin-top: 20px; font-size: 0.9rem; font-weight: bold; text-align: center; }

        .page { display: none; }
        .page.active { display: block; }

        .bottom-nav { position: fixed; bottom: 0; width: 100%; background: #0f172a; display: flex; justify-content: space-around; padding: 18px 0; border-top: 1px solid #1e293b; }
        .nav-link { color: #94a3b8; text-decoration: none; font-size: 0.8rem; cursor: pointer; text-align: center; }
        .nav-link.active { color: var(--primary); }
    </style>
</head>
<body>

    <header class="header-main">
        <div><small>USU√ÅRIO</small><br><strong id="dispName">CARREGANDO...</strong></div>
        <div style="text-align: right;"><small>STATUS</small><br><span style="color: var(--success);">‚óè CONTA ATIVA</span></div>
    </header>

    <div id="p-home" class="page active">
        <div class="container">
            <div class="balance-card">
                <small>SALDO ATUAL</small>
                <h2 id="mainSaldo">R$ 0,00</h2>
                <div class="progress-container"><div id="pBar" class="progress-bar"></div></div>
                <small id="pText">Carregando progresso...</small>
            </div>

            <h3 style="margin-top: 30px; border-left: 4px solid var(--primary); padding-left: 10px;">MISS√ïES DISPON√çVEIS</h3>
            <div id="task-list"></div>
        </div>
    </div>

    <div id="p-saque" class="page">
        <div class="container">
            <h3>√ÅREA DE RESGATE</h3>
            <div class="balance-card" style="padding: 20px;">
                <small>DISPON√çVEL</small>
                <h2 id="saqueSaldo" style="color: var(--success);">R$ 0,00</h2>
            </div>

            <div id="saqueAlert" class="alert-withdraw">
                ‚ö†Ô∏è ATEN√á√ÉO: Saque bloqueado. O valor m√≠nimo para o seu primeiro resgate via PIX √© de <strong>R$ 200,00</strong>.
            </div>

            <div style="margin-top: 20px; background: var(--card); padding: 20px; border-radius: 15px;">
                <label>CHAVE PIX PARA RECEBIMENTO</label>
                <input type="text" id="pixKey" placeholder="CPF, E-mail ou Telefone" style="width:100%; padding: 15px; border-radius: 10px; background: #05070a; border: 1px solid var(--primary); color: white; margin: 10px 0;">
                <button class="btn-action" onclick="requestWithdraw()">SOLICITAR PIX</button>
            </div>
        </div>
    </div>

    <div id="p-indica" class="page">
        <div class="container">
            <h3>REGRAS DE INDICA√á√ÉO</h3>
            <div class="mission-card">
                <p>1. Ganhe <b>R$ 10,00</b> por cada amigo indicado.</p>
                <p>2. Limite m√°ximo de <b>5 indica√ß√µes</b> por ciclo.</p>
                <p>3. O b√¥nus √© creditado em at√© <b>48 horas</b> ap√≥s a valida√ß√£o.</p>
                <hr style="border: 0.5px solid #1f2937;">
                <p style="font-size: 0.8rem; opacity: 0.7;">Indica√ß√µes hoje: <b id="todayRefs">0/5</b></p>
                <button class="btn-action" onclick="handleRefer()">COPIAR MEU LINK</button>
            </div>
        </div>
    </div>

    <nav class="bottom-nav">
        <div class="nav-link active" onclick="nav('p-home', this)">üè†<br>Miss√µes</div>
        <div class="nav-link" onclick="nav('p-saque', this)">üí∞<br>Sacar</div>
        <div class="nav-link" onclick="nav('p-indica', this)">üë•<br>Indicar</div>
    </nav>

    <script>
        let data = JSON.parse(localStorage.getItem('play7_v3')) || { name: "", balance: 0, refs: 0, lastRefTime: 0 };
        const MIN = 200;

        if(!data.name) {
            data.name = prompt("Qual seu nome?");
            save();
        }

        function save() { 
            localStorage.setItem('play7_v3', JSON.stringify(data)); 
            updateUI();
        }

        function updateUI() {
            document.getElementById('dispName').innerText = data.name.toUpperCase();
            document.querySelectorAll('#mainSaldo, #saqueSaldo').forEach(e => e.innerText = `R$ ${data.balance.toFixed(2).replace('.',',')}`);
            document.getElementById('todayRefs').innerText = `${data.refs}/5`;
            
            let perc = (data.balance / MIN) * 100;
            document.getElementById('pBar').style.width = (perc > 100 ? 100 : perc) + "%";
            document.getElementById('pText').innerText = perc >= 100 ? "Saque liberado!" : `${Math.floor(perc)}% para o saque m√≠nimo (R$ 200)`;
            
            if(data.balance >= MIN) document.getElementById('saqueAlert').style.display = 'none';
        }

        function nav(id, el) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            document.querySelectorAll('.nav-link').forEach(n => n.classList.remove('active'));
            el.classList.add('active');
        }

        const taskList = document.getElementById('task-list');
        const tasks = [
            {t: "Instalar App Play7", v: 15.00, link: "https://seu-link-cpagrip-aqui.com"},
            {t: "Verificar E-mail VIP", v: 8.00, link: "https://seu-link-cpagrip-aqui.com"},
            {t: "Assistir V√≠deo Premiado", v: 5.00, link: "https://seu-link-adsterra-aqui.com"}
        ];

        tasks.forEach((task, i) => {
            taskList.innerHTML += `
                <div class="mission-card">
                    <div class="mission-info">
                        <div><strong>${task.t}</strong><br><small>Recompensa: R$ ${task.v.toFixed(2)}</small></div>
                        <span id="status-${i}" style="font-size: 0.7rem; color: #777;">DISPON√çVEL</span>
                    </div>
                    <button id="btn-${i}" class="btn-action" onclick="startTask(${i}, ${task.v}, '${task.link}')">EXECUTAR MISS√ÉO</button>
                </div>
            `;
        });

        function startTask(id, val, link) {
            const btn = document.getElementById(`btn-${id}`);
            const status = document.getElementById(`status-${id}`);
            
            window.open(link, '_blank');
            btn.disabled = true;
            
            let timeLeft = 60; // 60 segundos para validar
            let timer = setInterval(() => {
                btn.innerText = `VERIFICANDO EM ${timeLeft}s...`;
                status.innerText = "N√ÉO FECHE A P√ÅGINA";
                timeLeft--;
                
                if(timeLeft < 0) {
                    clearInterval(timer);
                    data.balance += val;
                    save();
                    btn.innerText = "MISS√ÉO CONCLU√çDA";
                    status.innerText = "‚úÖ CREDITADO";
                    status.style.color = "var(--success)";
                }
            }, 1000);
        }

        function handleRefer() {
            const now = new Date().getTime();
            const waitTime = 48 * 60 * 60 * 1000; // 48 Horas

            navigator.clipboard.writeText(`https://play7oficialsuporte-stack.github.io/Ganhos-Di-rios/?ref=${data.name}`);
            alert("Link de indica√ß√£o copiado! Envie para seus amigos.");

            if(data.refs >= 5) {
                alert("Limite de 5 indica√ß√µes atingido para este ciclo.");
                return;
            }

            if(now - data.lastRefTime > waitTime) {
                data.refs += 1;
                data.balance += 10.00;
                data.lastRefTime = now;
                save();
                alert("Indica√ß√£o registrada! R$ 10,00 ser√£o validados em seu saldo.");
            } else {
                alert("Aguarde o prazo de 48h para registrar uma nova indica√ß√£o remunerada.");
            }
        }

        function requestWithdraw() {
            if(data.balance < MIN) {
                alert("ERRO: Voc√™ precisa de no m√≠nimo R$ 200,00 para realizar o primeiro saque.");
            } else {
                alert("SOLICITA√á√ÉO ENVIADA! O valor ser√° depositado na chave informada em at√© 24h √∫teis.");
            }
        }

        updateUI();
    </script>
</body>
</html>

