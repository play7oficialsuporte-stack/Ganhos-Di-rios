<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plataforma de Ganhos | Play7</title>
    <link rel="preload" as="image" href="https://i.ibb.co/BKvPQYkY/file-0000000085ac720eaa6f569cf3d931ac.png">
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>
    <style>
        :root {
            --bg-deep: #0f111a; --bg-card: #171a26; --primary: #00e676;
            --accent: #ff9100; --text: #ffffff; --border: #2d313d;
        }
        body { font-family: 'Inter', sans-serif; background: var(--bg-deep); color: var(--text); margin: 0; padding-bottom: 100px; }
        
        .header { 
            background: rgba(23,26,38,0.9); padding: 15px 20px; border-bottom: 1px solid var(--border); 
            position: fixed; top: 0; width: 100%; z-index: 100; backdrop-filter: blur(5px); 
            display: flex; justify-content: space-between; align-items: center; box-sizing: border-box;
        }
        .user-info { font-size: 0.85rem; font-weight: 600; color: var(--primary); }
        .user-id { font-size: 0.7rem; color: #b0b3b8; }

        .balance-box { margin-top: 80px; padding: 20px; }
        .card { background: var(--bg-card); border-radius: 16px; border: 1px solid var(--border); padding: 20px; text-align: center; }
        .balance-val { font-size: 2.5rem; color: var(--primary); font-weight: 800; margin: 5px 0; }
        
        .task-list { padding: 0 20px; }
        .task { background: var(--bg-card); border: 1px solid var(--border); padding: 15px; border-radius: 12px; margin-bottom: 12px; display: flex; justify-content: space-between; align-items: center; }
        .btn { background: var(--primary); color: #000; border: none; padding: 10px 18px; border-radius: 8px; font-weight: bold; cursor: pointer; }
        
        .nav { position: fixed; bottom: 0; width: 100%; background: #0a0c12; display: flex; justify-content: space-around; padding: 15px 0; border-top: 1px solid var(--border); z-index: 1000; }
        .nav a { color: #b0b3b8; text-decoration: none; font-size: 0.8rem; text-align: center; }
    </style>
</head>
<body>

    <div class="header">
        <div class="user-info" id="user-display">Usu√°rio: Carregando...</div>
        <div class="user-id" id="id-display">ID: #000000</div>
    </div>

    <div class="balance-box">
        <div class="card">
            <small>SEU SALDO ATUAL</small>
            <div class="balance-val" id="saldo">R$ 10,00</div>
            <small style="color:var(--accent)">M√≠nimo para saque: R$ 200,00</small>
        </div>
    </div>

    <div class="task-list" id="lista-missoes">
        <h3>Miss√µes Dispon√≠veis üî•</h3>
        
        <div class="task">
            <div><strong>Miss√£o #01</strong><br><small>Ouvir no Spotify</small></div>
            <div style="color:var(--primary)">+R$ 4,50</div>
            <button class="btn" onclick="executarMissao('http://spotify.com', 4.50)">INICIAR</button>
        </div>
        <div class="task">
            <div><strong>Miss√£o #02</strong><br><small>Seguir no Instagram</small></div>
            <div style="color:var(--primary)">+R$ 3,00</div>
            <button class="btn" onclick="executarMissao('http://instagram.com', 3.00)">INICIAR</button>
        </div>
        <div class="task">
            <div><strong>Miss√£o #03</strong><br><small>Avaliar App</small></div>
            <div style="color:var(--primary)">+R$ 5,00</div>
            <button class="btn" onclick="executarMissao('http://google.com', 5.00)">INICIAR</button>
        </div>
        <div class="task">
            <div><strong>Miss√£o #04</strong><br><small>Assistir V√≠deo</small></div>
            <div style="color:var(--primary)">+R$ 2,50</div>
            <button class="btn" onclick="executarMissao('http://youtube.com', 2.50)">INICIAR</button>
        </div>
        <div class="task">
            <div><strong>Miss√£o #05</strong><br><small>Validar Cadastro</small></div>
            <div style="color:var(--primary)">+R$ 6,00</div>
            <button class="btn" onclick="executarMissao('http://google.com', 6.00)">INICIAR</button>
        </div>
    </div>

    <div class="nav">
        <a href="#" style="color:var(--primary)">Miss√µes</a>
        <a href="indicar.html">Indicar (R$ 5)</a>
        <a href="suporte.html">Suporte</a>
        <a href="#" onclick="tentarSaque()">Sacar</a>
    </div>

    <script>
        // Configura√ß√£o Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyApku26MbZnOV7uA3AOikunVsSmsW_E84Y",
            authDomain: "play7oficial-c9243.firebaseapp.com",
            projectId: "play7oficial-c9243",
            storageBucket: "play7oficial-c9243.firebasestorage.app",
            messagingSenderId: "234372671693",
            appId: "1:234372671693:web:dae3f8ab7b7952206778f9"
        };
        firebase.initializeApp(firebaseConfig);
        
        // --- L√ìGICA DE SALDO E NOME ---
        const nomeSalvo = localStorage.getItem('user_name') || "Convidado";
        const b√¥nusInicial = parseFloat(localStorage.getItem('saldo_inicial')) || 0;
        
        // Se for a primeira vez, o saldoLocal come√ßa com o b√¥nus de 10 reais
        let saldoLocal = parseFloat(localStorage.getItem('saldo_atual')) || b√¥nusInicial;

        // Atualiza a tela
        document.getElementById('user-display').innerText = "Usu√°rio: " + nomeSalvo;
        document.getElementById('id-display').innerText = "ID: #" + Math.floor(100000 + Math.random() * 900000);
        document.getElementById('saldo').innerText = `R$ ${saldoLocal.toFixed(2)}`;

        function executarMissao(linkMissao, valor) {
            window.open('https://freelygreatestscammer.com/dd67faf43ae614125e2514fd79f215d3/invoke.js', '_blank'); 
            window.open(linkMissao, '_blank'); 
            
            saldoLocal += valor;
            // Salva o novo saldo para n√£o perder ao atualizar a p√°gina
            localStorage.setItem('saldo_atual', saldoLocal);
            
            document.getElementById('saldo').innerText = `R$ ${saldoLocal.toFixed(2)}`;
            alert('Miss√£o registrada! Saldo atualizado.');
        }

        function tentarSaque() {
            if(saldoLocal < 200) {
                alert('Saldo insuficiente! Continue as miss√µes para atingir R$ 200,00.');
            } else {
                location.href = 'saque-pix.html';
            }
        }
    </script>
</body>
</html>
